#include <unistd.h>
#include <sys/socket.h>
#include <bluetooth/bluetooth.h>
#include <bluetooth/rfcomm.h>
#include <stdlib.h>
#include <signal.h>
#include <math.h>

#define RESPONSE_1_SIZE 4
#define RESPONSE_2_SIZE 11
#define RESPONSE_3_SIZE 14
#define RESPONSE_4_SIZE 16
#define RESPONSE_5_SIZE 21
#define ASK_FRAME_SIZE 5
#define PI 3.141529
#define SLEEP_AFTER_SENT 130000

volatile sig_atomic_t stop;
volatile sig_atomic_t clientRunning;
int servSockId, clientSockId;

unsigned char requestPacket1[ASK_FRAME_SIZE] = {0x65, 0x01, 0x01, 0x67};
unsigned char responsePacket1[RESPONSE_1_SIZE] = {0x65, 0x4B, 0x42, 0x00};

unsigned char requestPacket2[ASK_FRAME_SIZE] = {0x65, 0x02, 0x02, 0x69};
unsigned char responsePacket2[RESPONSE_2_SIZE]
  = {0x65, 0x18, 0x10, 0xAA, 0x73, 0x4E, 0x46, 0x1A, 0xD1, 0xB4, 0x00};

unsigned char requestPacket3[ASK_FRAME_SIZE] = {0x65, 0x03, 0x03, 0x6B};
unsigned char responsePacket3[RESPONSE_3_SIZE]
  = {0x65, 0x6A, 0x00, 0x17, 0x01, 0x88, 0x0B, 0x0B, 0x32, 0x29, 0x11, 0xA1, 0x01, 0x00};

unsigned char requestPacket4[ASK_FRAME_SIZE] = {0x65, 0x04, 0x04, 0x6D};
unsigned char responsePacket4[RESPONSE_4_SIZE]
  = {0x65, 0x32, 0x32, 0xC8, 0x1E, 0x10, 0x27, 0x07, 0x10, 0x27, 0x24, 0xC4, 0x09, 0x37, 0x2D, 0x00};

unsigned char requestPacket5[ASK_FRAME_SIZE] = {0x65, 0x05, 0x05, 0x6F};
unsigned char responsePacket5[RESPONSE_5_SIZE]
  = {0x65, 0x28, 0x5F, 0x89, 0xCD, 0x40, 0xA9, 0x64, 0x29, 0x83, 0x05, 0xD9, 0x06, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x32, 0x00};
